import{r as o,W as re,j as e,Y as ne}from"./app-LB1XR0Q5.js";import{F as t,I as te,S as h,W as le}from"./WarningButton-DF3HYguP.js";import{X as ie}from"./index.es-DTxt1n9U.js";import{F as de}from"./Footer-Tnkn5HxR.js";import{A as ce}from"./AuthenticatedLayout-DI5cjRGL.js";import{M as me,S as ue,D as he}from"./SecondaryButton-BLpy2u1z.js";import{P as v}from"./PrimaryButton-dicUtsUB.js";import{S as xe}from"./SelectField-D2hVXCff.js";import"./InputLabel-CMQcdI56.js";import"./TextInput-B-_nMCv-.js";import"./use-root-containers-DyAKLgTX.js";import"./transition-Bof0buh3.js";import"./ApplicationLogo-Dlb3Nmhn.js";import"./dialog-CWdNBX_x.js";function Re({auth:x,sedes:N}){const[F,f]=o.useState(!1),[C,p]=o.useState(""),[T,y]=o.useState(1),[g,D]=o.useState(""),M=o.useRef(),R=o.useRef(),I=o.useRef(),E=o.useRef(),A=o.useRef(),k=o.useRef(),P=o.useRef(),B=o.useRef(),G=o.useRef(),w=o.useRef(),H=o.useRef(),W=o.useRef(),$={nombre:"",imagen:null,direccion:"",telefono:"",telefonoDos:"",telefonoTres:"",email:"",encargado:"",coordenadas:"",diasSemana:"",horario:"",estado:""},{data:s,setData:d,errors:r,delete:L,post:j,processing:b}=re($),n=a=>{const{name:l,value:i}=a.target;d(u=>({...u,[l]:i}))},O=a=>{d("imagen",a.target.files[0])},S=(a,l,i,u,q,J,K,Q,U,Z,ee,ae,oe,se)=>{f(!0),y(a),a===1?(p("Agregar Sede"),d({nombre:"",imagen:null,direccion:"",telefono:"",telefonoDos:"",telefonoTres:"",email:"",encargado:"",coordenadas:"",diasSemana:"",horario:"",estado:""})):(p("Editar Sede"),d({id:l,nombre:i,imagen:u,direccion:q,telefono:J,telefonoDos:K,telefonoTres:Q,email:U,encargado:Z,coordenadas:ee,diasSemana:ae,horario:oe,estado:se}))},c=()=>{f(!1)},X=a=>{a.preventDefault(),T===1?j(route("AdministradorSedes.store"),{preserveScroll:!0,onSuccess:()=>{m("Sede Guardada")}}):j(route("AdministradorSedes.updatepost",s.id),{preserveScroll:!0,onSuccess:()=>{m("Sede Actualizada")}})},m=a=>{c(),h.fire({title:a,icon:"success"})},_=(a,l)=>{h.fire({title:`¬øEst√°s seguro de eliminar la sede ${l}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"S√≠",cancelButtonText:"No"}).then(i=>{i.isConfirmed&&L(route("AdministradorSedes.destroy",a),{onSuccess:()=>{m("Sede Eliminada.")},onError:()=>{h.fire({title:"Error",text:"No se pudo eliminar la sede.",icon:"error"})}})})},z=[{name:"#",selector:(a,l)=>l+1,sortable:!0},{name:"Nombre",selector:a=>a.nombre,sortable:!0},{name:"Imagen Principal",cell:a=>e.jsx("div",{className:"flex items-center justify-center px-2 py-2",children:e.jsx("img",{src:`/storage/${a.imagen}`,alt:a.nombre,className:"w-16 h-16 rounded-full"})}),sortable:!1},{name:"Direcci√≥n",selector:a=>a.direccion,sortable:!0},{name:"Tel√©fono",selector:a=>a.telefono,sortable:!0},{name:"Tel√©fono Dos",selector:a=>a.telefonoDos,sortable:!0},{name:"Tel√©fono Tres",selector:a=>a.telefonoTres,sortable:!0},{name:"Correo Electr√≥nico",selector:a=>a.email,sortable:!0},{name:"Encargado",selector:a=>a.encargado,sortable:!0},{name:"Google Maps",cell:a=>e.jsx("a",{href:a.coordenadas,target:"_blank",rel:"noopener noreferrer",children:"Google Maps üó∫"}),sortable:!0},{name:"Dias de Atenci√≥n",selector:a=>a.diasSemana,sortable:!0},{name:"Horario",selector:a=>a.horario,sortable:!0},{name:"Estado",selector:a=>a.estado,sortable:!0},{name:"Editar",cell:a=>e.jsx(le,{onClick:()=>S(2,a.id,a.nombre,a.imagen,a.direccion,a.telefono,a.telefonoDos,a.telefonoTres,a.email,a.encargado,a.coordenadas,a.diasSemana,a.horario,a.estado),children:e.jsx("i",{className:"fa-solid fa-pencil"})}),ignoreRowClick:!0},{name:"Eliminar",cell:a=>e.jsx(he,{onClick:()=>_(a.id,a.nombre),children:e.jsx("i",{className:"fa-solid fa-trash"})}),ignoreRowClick:!0},{name:"Fotos",cell:a=>e.jsx("a",{className:"text-white bg-black hover:bg-gray-800 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center",href:`/AdministradorFotosSedes?sede_id=${a.id}`,children:e.jsx("i",{className:"mr-2 fa-solid fa-image"})}),ignoreRowClick:!0}],V=N.filter(a=>a.nombre.toLowerCase().includes(g.toLowerCase())),Y={rowsPerPageText:"Registros por p√°gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"};return e.jsxs(ce,{user:x.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Sedes"}),children:[e.jsx(ne,{title:"Panel Sedes"}),e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"flex-grow",children:[e.jsxs("div",{className:"container p-6 mx-auto mt-6 bg-white",children:[e.jsx("div",{className:"flex justify-end mt-2 mb-3",children:e.jsx(v,{onClick:()=>S(1),children:e.jsx("i",{className:"mr-2 fa-solid fa-plus-circle",children:"A√±adir Sede"})})}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Buscar por Nombre del Producto",value:g,onChange:a=>D(a.target.value)})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(ie,{title:"Sedes Registradas",columns:z,data:V,pagination:!0,paginationComponentOptions:Y,responsive:!0,fixedHeader:!0,noDataComponent:e.jsx("div",{children:"No hay Sedes Registradas"})})})]}),e.jsxs(me,{show:F,onClose:c,children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:C}),e.jsxs("form",{onSubmit:X,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(t,{htmlFor:"nombre",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Nombre de la sede"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"nombre",type:"text",name:"nombre",ref:M,placeholder:"Nombre del Producto",value:s.nombre,onChange:n,errorMessage:r.nombre}),e.jsx(te,{htmlFor:"imagen",label:"Foto Principal",id:"imagen",name:"imagen",ref:R,onChange:O,errorMessage:r.imagen}),e.jsx(t,{htmlFor:"direccion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Direcci√≥n"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"direccion",type:"text",name:"direccion",ref:I,placeholder:"Direcci√≥n",value:s.direccion,onChange:n,errorMessage:r.direccion}),e.jsx(t,{htmlFor:"telefono",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Tel√©fono"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"telefono",type:"number",name:"telefono",ref:E,placeholder:"Tel√©fono",value:s.telefono,onChange:n,errorMessage:r.telefono}),e.jsx(t,{htmlFor:"telefonoDos",label:e.jsx(e.Fragment,{children:e.jsx("span",{children:"Tel√©fono Dos"})}),id:"telefonoDos",type:"number",name:"telefonoDos",ref:A,placeholder:"Tel√©fono Dos",value:s.telefonoDos,onChange:n,errorMessage:r.telefonoDos}),e.jsx(t,{htmlFor:"telefonoTres",label:e.jsx(e.Fragment,{children:e.jsx("span",{children:"Tel√©fono Tres"})}),id:"telefonoTres",type:"number",name:"telefonoTres",ref:k,placeholder:"Tel√©fono Tres",value:s.telefonoTres,onChange:n,errorMessage:r.telefonoTres}),e.jsx(t,{htmlFor:"email",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Correo Electr√≥nico"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"email",type:"text",name:"email",ref:P,placeholder:"Correo Electr√≥nico",value:s.email,onChange:n,errorMessage:r.email}),e.jsx(t,{htmlFor:"encargado",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Encargado"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"encargado",type:"text",name:"encargado",ref:B,placeholder:"Encargado",value:s.encargado,onChange:n,errorMessage:r.encargado}),e.jsx(t,{htmlFor:"coordenadas",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Google Maps"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"coordenadas",type:"text",name:"coordenadas",ref:G,placeholder:"Google Maps",value:s.coordenadas,onChange:n,errorMessage:r.coordenadas}),e.jsx(t,{htmlFor:"diasSemana",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"D√≠as de Atenci√≥n"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"diasSemana",type:"text",name:"diasSemana",ref:w,placeholder:"D√≠as de Atenci√≥n",value:s.diasSemana,onChange:n,errorMessage:r.diasSemana}),e.jsx(t,{htmlFor:"horario",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Horario"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"horario",type:"text",name:"horario",ref:H,placeholder:"Horario",value:s.horario,onChange:n,errorMessage:r.horario}),e.jsx(xe,{htmlFor:"estado",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Estado"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"estado",ref:W,name:"estado",value:s.estado,onChange:n,errorMessage:r.estado,options:[{value:"",label:"Seleccione...",disabled:!0},{value:"activa",label:"Activa"},{value:"inactiva",label:"Inactiva"},{value:"mantenimiento",label:"En Mantenimiento"}]})]}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx(ue,{onClick:c,children:"Cancelar"}),e.jsx(v,{className:"ml-2",type:"submit",disabled:b,children:b?"Guardando...":"Guardar"})]})]})]})]})}),e.jsx(de,{auth:x})]})}export{Re as default};
